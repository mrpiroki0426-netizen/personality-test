<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <title>性格診断テスト</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        /* ====== 全体レイアウト ====== */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #f5f5f7;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
        }

        h1 {
            font-size: 1.5rem;
            margin-top: 0;
            text-align: center;
        }

        p.description {
            text-align: center;
            color: #555;
            font-size: 0.9rem;
            margin-bottom: 24px;
        }

        /* ====== 質問ブロック ====== */
        .question {
            margin-bottom: 20px;
            padding: 16px;
            border-radius: 12px;
            background: #f9fafb;
            border: 1px solid #e5e7eb;
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 0.95rem;
        }

            .options label {
                cursor: pointer;
            }

        /* ====== ボタン ====== */
        .actions {
            text-align: center;
            margin-top: 24px;
            margin-bottom: 12px;
        }

        button {
            padding: 10px 24px;
            font-size: 1rem;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            background: #2563eb;
            color: #ffffff;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
            transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.1s ease;
        }

            button:active {
                transform: translateY(1px);
                box-shadow: 0 2px 8px rgba(37, 99, 235, 0.25);
            }

            button:disabled {
                opacity: 0.6;
                cursor: not-allowed;
                box-shadow: none;
            }

        /* ====== メッセージ & 結果 ====== */
        .message {
            text-align: center;
            font-size: 0.9rem;
            color: #b91c1c;
            min-height: 1.2em;
            margin-bottom: 8px;
        }

        .result {
            margin-top: 16px;
            padding: 16px;
            border-radius: 12px;
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            display: none; /* 診断前は非表示 */
        }

        .result-title {
            font-weight: 700;
            margin-bottom: 6px;
            font-size: 1.05rem;
        }

        .result-type {
            font-weight: 700;
            color: #1d4ed8;
        }

        .result-description {
            margin-top: 4px;
            white-space: pre-line; /* \n を改行として表示 */
        }

        .footer {
            margin-top: 24px;
            text-align: center;
            font-size: 0.8rem;
            color: #9ca3af;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>性格診断テスト</h1>
        <p class="description">
            直感で近いと思う選択肢を選んでください。<br />
            診断結果はあくまで簡易的なものです。
        </p>

        <!-- 診断メッセージ -->
        <div id="message" class="message"></div>

        <!-- 質問を表示するコンテナ -->
        <div id="questions"></div>

        <!-- ボタン -->
        <div class="actions">
            <button id="submitBtn">診断する</button>
        </div>

        <!-- 結果表示エリア -->
        <div id="result" class="result">
            <div class="result-title">あなたのタイプ：</div>
            <div class="result-type" id="resultType"></div>
            <div class="result-description" id="resultDescription"></div>
        </div>

        <div class="footer">
            © 2025 性格診断テスト（デモ）
        </div>
    </div>

    <script>
        // ====== ここを編集すれば、質問と結果の中身を差し替えられます ======

        // タイプ定義（キーと表示名・説明文）
        const personalityTypes = {
            A: {
                label: "Aタイプ：リーダーシップ型",
                description:
                    "行動力があり、決断も早いタイプです。\n" +
                    "周りを引っ張る役割になることが多く、\n" +
                    "プロジェクトの推進役として力を発揮します。"
            },
            B: {
                label: "Bタイプ：ムードメーカー型",
                description:
                    "明るく社交的で、場の雰囲気を和ませるタイプです。\n" +
                    "人との関わりからエネルギーをもらいやすく、\n" +
                    "チームの潤滑油として活躍します。"
            },
            C: {
                label: "Cタイプ：マイペース研究型",
                description:
                    "一人でじっくり考えたり、深く掘り下げることが得意です。\n" +
                    "感情に流されにくく、冷静な分析力を持っています。"
            },
            D: {
                label: "Dタイプ：サポート・調整型",
                description:
                    "相手の気持ちをよく考え、気配りができるタイプです。\n" +
                    "チーム全体のバランスを見ながら、\n" +
                    "細かいフォローができる貴重な存在です。"
            }
        };

        // 質問リスト（★ここを書き換えればオリジナル診断になる）
        const questions = [
            {
                id: 1,
                text: "休日の過ごし方として一番近いのは？",
                options: [
                    { value: "A", label: "とにかく予定を詰めて、いろいろな所に出かける" },
                    { value: "B", label: "友達と集まってワイワイ過ごす" },
                    { value: "C", label: "一人で趣味に没頭する" },
                    { value: "D", label: "家族や身近な人とゆったり過ごす" }
                ]
            },
            {
                id: 2,
                text: "新しいプロジェクトが始まるとき、あなたは？",
                options: [
                    { value: "A", label: "すぐに全体像を考えて仕切りたくなる" },
                    { value: "B", label: "まずはみんなで話しながら雰囲気を作りたい" },
                    { value: "C", label: "情報を集めて、自分なりに分析する" },
                    { value: "D", label: "足りない役割を探して、サポートに回る" }
                ]
            },
            {
                id: 3,
                text: "グループで意見が割れたとき、あなたは？",
                options: [
                    { value: "A", label: "最終的にどちらかを決める役を買って出る" },
                    { value: "B", label: "冗談を交えながら場をなごませる" },
                    { value: "C", label: "それぞれのメリット・デメリットを整理する" },
                    { value: "D", label: "全員が納得できる落としどころを探る" }
                ]
            },
            {
                id: 4,
                text: "初対面の人が多い場では…",
                options: [
                    { value: "A", label: "自分からどんどん話しかける" },
                    { value: "B", label: "場の盛り上がりに合わせて会話を広げる" },
                    { value: "C", label: "様子を見つつ、自然に話しかけられたら話す" },
                    { value: "D", label: "少人数とじっくり話すほうが安心する" }
                ]
            },
            {
                id: 5,
                text: "仕事や作業で一番大事だと思うのは？",
                options: [
                    { value: "A", label: "スピードと結果" },
                    { value: "B", label: "周りとのコミュニケーション" },
                    { value: "C", label: "クオリティと正確さ" },
                    { value: "D", label: "みんなが気持ちよく働ける雰囲気" }
                ]
            }
        ];

        // ====== 質問を画面に描画 ======
        const questionsContainer = document.getElementById("questions");

        function renderQuestions() {
            questionsContainer.innerHTML = "";

            questions.forEach((q, index) => {
                const qDiv = document.createElement("div");
                qDiv.className = "question";

                const title = document.createElement("div");
                title.className = "question-title";
                title.textContent = `Q${index + 1}. ${q.text}`;

                const optionsDiv = document.createElement("div");
                optionsDiv.className = "options";

                q.options.forEach((opt) => {
                    const id = `q${q.id}_${opt.value}`;

                    const label = document.createElement("label");
                    const input = document.createElement("input");
                    input.type = "radio";
                    input.name = `q${q.id}`;
                    input.value = opt.value;
                    input.id = id;

                    label.htmlFor = id;
                    label.appendChild(input);
                    label.appendChild(document.createTextNode(" " + opt.label));

                    optionsDiv.appendChild(label);
                });

                qDiv.appendChild(title);
                qDiv.appendChild(optionsDiv);
                questionsContainer.appendChild(qDiv);
            });
        }

        renderQuestions();

        // ====== 診断ロジック ======
        const submitBtn = document.getElementById("submitBtn");
        const messageEl = document.getElementById("message");
        const resultEl = document.getElementById("result");
        const resultTypeEl = document.getElementById("resultType");
        const resultDescriptionEl = document.getElementById("resultDescription");

        function diagnose() {
            messageEl.textContent = "";
            resultEl.style.display = "none";

            // 集計用のオブジェクト（A/B/C/Dの得点）
            const scores = { A: 0, B: 0, C: 0, D: 0 };

            // 各質問について回答を取得
            for (const q of questions) {
                const selected = document.querySelector(`input[name="q${q.id}"]:checked`);
                if (!selected) {
                    messageEl.textContent = "未回答の質問があります。すべて回答してください。";
                    return;
                }
                const type = selected.value;
                scores[type] += 1;
            }

            // 一番スコアが高いタイプを算出
            let topType = null;
            let topScore = -1;
            for (const [type, score] of Object.entries(scores)) {
                if (score > topScore) {
                    topType = type;
                    topScore = score;
                }
            }

            // タイプ情報を取得
            const typeInfo = personalityTypes[topType];
            if (!typeInfo) {
                messageEl.textContent = "診断中にエラーが発生しました。";
                return;
            }

            // 結果表示
            const url = `result.html?type=${encodeURIComponent(topType)}`;
            window.location.href = url;
        }

        submitBtn.addEventListener("click", diagnose);
    </script>
</body>
</html>

